function openClosePopup(e,o,t){e.addEventListener("click",function(e){e.preventDefault(),t.classList.add("modal-show")}),o.addEventListener("click",function(e){e.preventDefault(),t.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&t.classList.contains("modal-show")&&t.classList.remove("modal-show")})}var formLink=document.querySelector(".contacts .btn"),formPopup=document.querySelector(".modal-feedback"),formClose=formPopup.querySelector(".modal-close"),form=formPopup.querySelector(".feedback"),formName=form.querySelector("#name"),formEmail=form.querySelector("#email");openClosePopup(formLink,formClose,formPopup),formLink.addEventListener("click",function(){formName.focus()}),form.addEventListener("submit",function(e){formName.value&&formEmail.value||e.preventDefault()});var mapLink=document.querySelector(".contacts-map"),mapPopup=document.querySelector(".modal-map"),mapClose=mapPopup.querySelector(".modal-close");function findCurrentSlide(e,o){for(var t=0,i=0;i<e.length;i++)e[i].classList.contains(o)&&(t=i);return t}function setNextSlideNumber(e,o){var t=0,i=findCurrentSlide(e,o);return i!==e.length-1&&(t=i+1),t}openClosePopup(mapLink,mapClose,mapPopup);var promoSliderAnimation=function(e){var i=e.querySelectorAll(".promo-item"),r=e.querySelectorAll(".promo-toggle");function o(e){var o=findCurrentSlide(r,"promo-toggle-active");if(e!==o){var t=i[e].querySelector(".btn");t.tabIndex=0,(t=i[o].querySelector(".btn")).tabIndex=-1,r[e].classList.add("promo-toggle-active"),r[o].classList.remove("promo-toggle-active"),i[e].classList.remove("visual-hidden")}o<e?(i[e].classList.add("promo-item-toLeft"),i[o].classList.add("promo-item-toLeft"),setTimeout(function(){i[e].classList.remove("promo-item-toLeft"),i[o].classList.remove("promo-item-toLeft"),i[o].classList.add("visual-hidden")},animationSpeed)):e<o&&(i[e].classList.add("promo-item-toRight"),i[o].classList.add("promo-item-toRight"),setTimeout(function(){i[e].classList.remove("promo-item-toRight"),i[o].classList.remove("promo-item-toRight"),i[o].classList.add("visual-hidden")},animationSpeed))}function t(e){return function(){o(e),clearInterval(s)}}for(var s=setInterval(function(){o(setNextSlideNumber(r,"promo-toggle-active"))},slideTime),n=0;n<r.length;n++)r[n].addEventListener("click",t(n))},servicesSlideAnimation=function(e){var o=e.querySelectorAll(".services-item"),t=e.querySelectorAll(".services .btn");function i(){var e=findCurrentSlide(t,"services-toggle-active");o[e].classList.add("visual-hidden"),t[e].classList.remove("services-toggle-active")}function r(e){o[e].classList.remove("visual-hidden"),t[e].classList.add("services-toggle-active")}function s(e){return function(){i(),r(e),clearInterval(n)}}for(var n=setInterval(function(){var e;e=setNextSlideNumber(t,"services-toggle-active"),i(),r(e)},slideTime),l=0;l<t.length;l++)t[l].addEventListener("click",s(l))},slideTime=5e3,animationSpeed=800,slider=document.querySelector(".promo");slider.querySelector(".promo-list")&&promoSliderAnimation(slider),(slider=document.querySelector(".services")).querySelector(".services-list")&&servicesSlideAnimation(slider);